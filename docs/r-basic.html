<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 R basic | Playing Data with R</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 R basic | Playing Data with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="github-repo" content="P4CSS/PDR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 R basic | Playing Data with R" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="JILUNG HSIEH" />


<meta name="date" content="2020-02-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#自述"><i class="fa fa-check"></i><b>0.1</b> 自述</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#教學方針"><i class="fa fa-check"></i><b>0.2</b> 教學方針</a><ul>
<li class="chapter" data-level="0.2.1" data-path="index.html"><a href="index.html#為何選擇r而不是python"><i class="fa fa-check"></i><b>0.2.1</b> 為何選擇R而不是Python？</a></li>
<li class="chapter" data-level="0.2.2" data-path="index.html"><a href="index.html#本書對象"><i class="fa fa-check"></i><b>0.2.2</b> 本書對象</a></li>
</ul></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#學程式這回事"><i class="fa fa-check"></i><b>0.3</b> 學程式這回事</a><ul>
<li class="chapter" data-level="0.3.1" data-path="index.html"><a href="index.html#何謂演算法"><i class="fa fa-check"></i><b>0.3.1</b> 何謂演算法？</a></li>
<li class="chapter" data-level="0.3.2" data-path="index.html"><a href="index.html#掌握課外學習資源"><i class="fa fa-check"></i><b>0.3.2</b> 掌握課外學習資源</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="r-basic.html"><a href="r-basic.html"><i class="fa fa-check"></i><b>1</b> R basic</a><ul>
<li class="chapter" data-level="" data-path="r-basic.html"><a href="r-basic.html#preface"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1.1" data-path="r-basic.html"><a href="r-basic.html#excuting-code-in-r-markdown"><i class="fa fa-check"></i><b>1.1</b> Excuting code in R markdown</a><ul>
<li class="chapter" data-level="1.1.1" data-path="r-basic.html"><a href="r-basic.html#inserting-a-new-code-cell"><i class="fa fa-check"></i><b>1.1.1</b> Inserting a new code cell</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="r-basic.html"><a href="r-basic.html#installing-and-loading-packages"><i class="fa fa-check"></i><b>1.2</b> Installing and loading packages</a><ul>
<li class="chapter" data-level="1.2.1" data-path="r-basic.html"><a href="r-basic.html#install-following-packages-at-home"><i class="fa fa-check"></i><b>1.2.1</b> Install following packages <strong>at home</strong></a></li>
<li class="chapter" data-level="1.2.2" data-path="r-basic.html"><a href="r-basic.html#loading-third-party-packages"><i class="fa fa-check"></i><b>1.2.2</b> Loading third-party packages</a></li>
<li class="chapter" data-level="1.2.3" data-path="r-basic.html"><a href="r-basic.html#註解"><i class="fa fa-check"></i><b>1.2.3</b> 註解</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="r-basic.html"><a href="r-basic.html#loading-dcard-data"><i class="fa fa-check"></i><b>1.3</b> Loading dcard data</a></li>
<li class="chapter" data-level="1.4" data-path="r-basic.html"><a href="r-basic.html#getting-taipei-theft-report-data"><i class="fa fa-check"></i><b>1.4</b> Getting Taipei theft report data</a><ul>
<li class="chapter" data-level="1.4.1" data-path="r-basic.html"><a href="r-basic.html#getting-from-the-web-directly"><i class="fa fa-check"></i><b>1.4.1</b> Getting from the web directly</a></li>
<li class="chapter" data-level="1.4.2" data-path="r-basic.html"><a href="r-basic.html#loading-a-csv-file-in-data-directory"><i class="fa fa-check"></i><b>1.4.2</b> Loading a csv file in data directory</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="r-basic.html"><a href="r-basic.html#loading-moi-data-through-api"><i class="fa fa-check"></i><b>1.5</b> Loading MOI data through API</a></li>
<li class="chapter" data-level="1.6" data-path="r-basic.html"><a href="r-basic.html#getting-104-query-data"><i class="fa fa-check"></i><b>1.6</b> Getting 104 query data</a></li>
<li class="chapter" data-level="1.7" data-path="r-basic.html"><a href="r-basic.html#getting-ubike"><i class="fa fa-check"></i><b>1.7</b> Getting ubike</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Playing Data with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-basic" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> R basic</h1>
<div id="preface" class="section level2 unnumbered">
<h2>Preface</h2>
<p>testing</p>

</div>
<div id="excuting-code-in-r-markdown" class="section level2">
<h2><span class="header-section-number">1.1</span> Excuting code in R markdown</h2>
<ul>
<li>Using <code>Cmd+Enter</code> (<code>Ctrl+Enter</code> in Window) to excute the line where your cursor is located.</li>
<li><p>Using <code>Cmd(Ctrl)+Shift+Enter</code> to run all code in a cell</p></li>
<li><p>Using mouse to select multiple lines, then <code>Cmd(Ctrl)+Shift+c</code> to comment/uncomment multiple lines.</p></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">b &lt;-<span class="st"> </span><span class="dv">4</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">a<span class="op">*</span>b</a></code></pre></div>
<pre><code>## [1]  4  8 12 16 20</code></pre>
<div id="inserting-a-new-code-cell" class="section level3">
<h3><span class="header-section-number">1.1.1</span> Inserting a new code cell</h3>
<ul>
<li>Using <code>Cmd(Ctrl)+Option(Alt)+i</code> to insert a new cell</li>
</ul>
</div>
</div>
<div id="installing-and-loading-packages" class="section level2">
<h2><span class="header-section-number">1.2</span> Installing and loading packages</h2>
<ul>
<li>套件的使用分為<strong>安裝</strong>和<strong>載入</strong>兩個動作。通常安裝好R的時候就已經安裝好基本<code>base</code>套件。當執行R時便會將base套件<strong>預載</strong>入程式的執行環境中。</li>
<li>非常多的R使用者會編寫第三方套件，並且將這些套件開放給群眾使用。通常這些套件已經被上載到<strong>R cran</strong>提供下載。而<strong>R cran</strong>上的套件我們可以使用<code>install.packages(&quot;package_name&quot;)</code>來自動安裝到我們的電腦中。</li>
</ul>
<div id="install-following-packages-at-home" class="section level3">
<h3><span class="header-section-number">1.2.1</span> Install following packages <strong>at home</strong></h3>
<ul>
<li>Remove comment <code>#</code> symbol to install new package</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># install.packages(&quot;jsonlite&quot;)</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co"># install.packages(&quot;httr&quot;)</span></a></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># install.packages(&quot;tidyverse&quot;)</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co"># install.packages(&quot;caret&quot;)</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co"># install.packages(&quot;jiebaR&quot;)</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co"># install.packages(&quot;topicmodels&quot;)</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co"># install.packages(&quot;stm&quot;)</span></a></code></pre></div>
</div>
<div id="loading-third-party-packages" class="section level3">
<h3><span class="header-section-number">1.2.2</span> Loading third-party packages</h3>
<ul>
<li>這些第三方套件被安裝好後，還需要被<strong>加載</strong>到程式的執行環境中才可以使用。因此要用<code>library(package_name)</code>將其載入。</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co"># loading jsonlite and httr library</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw">library</span>(jsonlite)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="kw">library</span>(httr)</a></code></pre></div>
<pre><code>## Warning: package &#39;httr&#39; was built under R version 3.5.2</code></pre>
</div>
<div id="註解" class="section level3">
<h3><span class="header-section-number">1.2.3</span> 註解</h3>
<ul>
<li>下列程式碼中開頭有<code>#</code>符號者為註解，程式在執行時會自動忽略前面有<code>#</code>符號的程式碼。</li>
<li>當使用RMarkdown格式撰寫時，因為RMarkdown是在事後才生成文件，所以當遇到要安裝該套件的指令時，便會跳出錯誤訊息。</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co"># a &lt;- c(1, 2, 3, 4, 5)</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="co"># b &lt;- 4</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="co"># a*b</span></a></code></pre></div>
</div>
</div>
<div id="loading-dcard-data" class="section level2">
<h2><span class="header-section-number">1.3</span> Loading dcard data</h2>
<ul>
<li>先不要去管<code>fromJSON(content(GET(url), &quot;text&quot;))</code>是什麼意思，先著重在語言的形式。通常一個函式會寫為<code>func_name()</code>，所以上述其實是三個函式由內而外一層套一層，從最內層開始往外做。</li>
<li>這其實很make-sense，因為如果你有一個數學式<code>(1 + (3-3)/2)/8</code>，也是會從最裡面那層做出來。</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">url &lt;-<span class="st"> &quot;https://www.dcard.tw/_api/forums/relationship/posts?popular=true&quot;</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">res &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(<span class="kw">content</span>(<span class="kw">GET</span>(url), <span class="st">&quot;text&quot;</span>))</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">dplyr<span class="op">::</span><span class="kw">glimpse</span>(res)</a></code></pre></div>
<pre><code>## Observations: 30
## Variables: 33
## $ id                  &lt;int&gt; 233008068, 233062888, 233061385, 233066495, 23306…
## $ title               &lt;chr&gt; &quot;#2/13更連結 曬照 閃光團v.s單身汪攻防戰！&quot;, &quot;洗澡的小情趣&quot;, &quot;2020單身脫魯 …
## $ excerpt             &lt;chr&gt; &quot;#2/13 更，WOW~看到兩邊人馬的熱烈曬照，販販刷留言刷得很開心吶～～～好多甜甜的閃閃的告白…
## $ anonymousSchool     &lt;lgl&gt; FALSE, FALSE, TRUE, TRUE, TRUE, TRUE, FALSE, TRUE…
## $ anonymousDepartment &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, T…
## $ pinned              &lt;lgl&gt; TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, F…
## $ forumId             &lt;chr&gt; &quot;42851318-b9e2-4a75-8a05-9fe180becefe&quot;, &quot;42851318…
## $ replyId             &lt;int&gt; NA, NA, 233054425, NA, NA, NA, NA, NA, 233055406,…
## $ createdAt           &lt;chr&gt; &quot;2020-02-03T10:10:21.780Z&quot;, &quot;2020-02-12T11:04:15.…
## $ updatedAt           &lt;chr&gt; &quot;2020-02-13T15:19:06.798Z&quot;, &quot;2020-02-13T16:00:40.…
## $ commentCount        &lt;int&gt; 989, 72, 941, 72, 201, 58, 4373, 445, 233, 31, 37…
## $ likeCount           &lt;int&gt; 2456, 8559, 3665, 3509, 3250, 2971, 2706, 2007, 1…
## $ withNickname        &lt;lgl&gt; TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FAL…
## $ tags                &lt;list&gt; [&lt;&gt;, &lt;&gt;, &lt;&gt;, &lt;&gt;, &quot;HIDE_THUMBNAIL&quot;, &quot;HIDE_THUMBNA…
## $ topics              &lt;list&gt; [&lt;&quot;單身狗&quot;, &quot;愛你3000次&quot;, &quot;閃光團&quot;, &quot;送禮&quot;, &quot;情人節&quot;&gt;, &lt;&quot;男友&quot;, …
## $ meta                &lt;df[,2]&gt; &lt;data.frame[26 x 2]&gt;
## $ forumName           &lt;chr&gt; &quot;感情&quot;, &quot;感情&quot;, &quot;感情&quot;, &quot;感情&quot;, &quot;感情&quot;, &quot;感情&quot;, &quot;感情&quot;, &quot;感情&quot;, &quot;…
## $ forumAlias          &lt;chr&gt; &quot;relationship&quot;, &quot;relationship&quot;, &quot;relationship&quot;, &quot;…
## $ gender              &lt;chr&gt; &quot;D&quot;, &quot;F&quot;, &quot;M&quot;, &quot;F&quot;, &quot;F&quot;, &quot;M&quot;, &quot;M&quot;, &quot;F&quot;, &quot;M&quot;, &quot;F&quot;,…
## $ school              &lt;chr&gt; &quot;好物縱火販&quot;, &quot;シカマロ&quot;, NA, NA, NA, NA, &quot;好小子&quot;, NA, &quot;國立清華…
## $ department          &lt;chr&gt; &quot;ec_firemaker&quot;, &quot;naoko&quot;, NA, NA, NA, NA, &quot;toyot&quot;,…
## $ replyTitle          &lt;chr&gt; NA, NA, &quot;2020還單身的都給我出來&quot;, NA, NA, NA, NA, NA, &quot;男友的…
## $ mediaMeta           &lt;list&gt; [&lt;data.frame[7 x 8]&gt;, &lt;data.frame[3 x 10]&gt;, &lt;dat…
## $ reactions           &lt;list&gt; [&lt;data.frame[6 x 2]&gt;, &lt;data.frame[4 x 2]&gt;, &lt;data…
## $ hidden              &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
## $ customStyle         &lt;df[,3]&gt; &lt;data.frame[26 x 3]&gt;
## $ isSuspiciousAccount &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
## $ layout              &lt;chr&gt; &quot;classic&quot;, &quot;classic&quot;, &quot;classic&quot;, &quot;classic&quot;, &quot;clas…
## $ withImages          &lt;lgl&gt; TRUE, TRUE, FALSE, TRUE, FALSE, FALSE, TRUE, FALS…
## $ withVideos          &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
## $ media               &lt;list&gt; [&lt;data.frame[6 x 1]&gt;, &lt;data.frame[2 x 1]&gt;, &lt;data…
## $ reportReasonText    &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;…
## $ postAvatar          &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;…</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">head</span>(res)</a></code></pre></div>
<pre><code>##          id                                    title
## 1 233008068 #2/13更連結 曬照 閃光團v.s單身汪攻防戰！
## 2 233062888                             洗澡的小情趣
## 3 233061385                  2020單身脫魯 集氣許願樓
## 4 233066495                          早上起床發現...
## 5 233063657                     讓我體驗有男友的感覺
## 6 233066796                     最嚮往的情侶生活模式
##                                                                                                                                                                                                     excerpt
## 1                          #2/13 更，WOW~看到兩邊人馬的熱烈曬照，販販刷留言刷得很開心吶～～～好多甜甜的閃閃的告白好ㄘ好ㄘヾ（´︶`*）ﾉ，更多好笑、可愛的狗勾....啊腫麼好多都4柴（´･ω･`）？（（嗯，有空來做留
## 2 男友‍️以下稱他為 那君，我和那君每天都會一起洗澡，昨天，我一如往常的低頭洗著我的頭髮（搓搓搓，那君：「我頭髮好像變長了欸！\U0001f929」我：「嗯？是喔」（努力的搓搓搓，兩人都沒有說話的，過了一小段時間後，那
## 3                                                                                                            我想要脫魯 我想要脫魯 我想要脫魯，很重要許願三次，集氣集起來，祝2020單身狗 天上掉下來男/女朋友
## 4          今天早上起床之後突然回頭看到男友的手，咦！，他的手什麼時候這麼好看ㄌ！，好～再來一張，然後突然想到我的相簿裡有！剝蝦的手，好想當那隻蝦（⁎⁍̴̛\u1d17⁍̴̛⁎）（別ㄟ！，難怪我每次都超愛牽他的手，或是把他
## 5             母胎單的朋友表示，說一句話讓她也能體驗有男友的感覺，所以姐妹們也是很努力，只是後面的對話越來越好笑，1 你要那麼想，我也沒有辦法。2 她只是朋友/妹妹而已。3 多喝熱水。4 沒事的話我打遊戲去了。5 
## 6  彼此都有一份穩定的工作，一起存錢買房，一起分享彼此工作上的大小事，當對方傾訴的垃圾桶，養隻陪伴彼此的寵物，每個禮拜兩人如果都有共同休假的日子，早上一起去吃個早午餐，下午去看場電影、遛遛狗；晚上可以自己
##   anonymousSchool anonymousDepartment pinned
## 1           FALSE                TRUE   TRUE
## 2           FALSE                TRUE  FALSE
## 3            TRUE                TRUE  FALSE
## 4            TRUE                TRUE  FALSE
## 5            TRUE                TRUE  FALSE
## 6            TRUE                TRUE  FALSE
##                                forumId   replyId                createdAt
## 1 42851318-b9e2-4a75-8a05-9fe180becefe        NA 2020-02-03T10:10:21.780Z
## 2 42851318-b9e2-4a75-8a05-9fe180becefe        NA 2020-02-12T11:04:15.011Z
## 3 42851318-b9e2-4a75-8a05-9fe180becefe 233054425 2020-02-12T06:15:08.879Z
## 4 42851318-b9e2-4a75-8a05-9fe180becefe        NA 2020-02-13T02:58:32.517Z
## 5 42851318-b9e2-4a75-8a05-9fe180becefe        NA 2020-02-12T13:27:18.597Z
## 6 42851318-b9e2-4a75-8a05-9fe180becefe        NA 2020-02-13T04:21:14.383Z
##                  updatedAt commentCount likeCount withNickname           tags
## 1 2020-02-13T15:19:06.798Z          989      2456         TRUE               
## 2 2020-02-13T16:00:40.450Z           72      8559         TRUE               
## 3 2020-02-12T06:15:08.879Z          941      3665        FALSE               
## 4 2020-02-13T15:44:25.655Z           72      3509        FALSE               
## 5 2020-02-12T13:27:18.597Z          201      3250        FALSE HIDE_THUMBNAIL
## 6 2020-02-13T04:21:14.383Z           58      2971        FALSE HIDE_THUMBNAIL
##                                     topics meta.layout meta.disableAdSense
## 1 單身狗, 愛你3000次, 閃光團, 送禮, 情人節     classic                  NA
## 2                   男友, 日常, 洗澡, 情趣     classic                TRUE
## 3                   單身, 愛情, 集氣, 許願     classic                  NA
## 4                               手控, 男友     classic                  NA
## 5                                              classic                  NA
## 6                 愛情, 模式, 價值觀, 生活     classic                  NA
##   forumName   forumAlias gender     school   department             replyTitle
## 1      感情 relationship      D 好物縱火販 ec_firemaker                   &lt;NA&gt;
## 2      感情 relationship      F   シカマロ        naoko                   &lt;NA&gt;
## 3      感情 relationship      M       &lt;NA&gt;         &lt;NA&gt; 2020還單身的都給我出來
## 4      感情 relationship      F       &lt;NA&gt;         &lt;NA&gt;                   &lt;NA&gt;
## 5      感情 relationship      F       &lt;NA&gt;         &lt;NA&gt;                   &lt;NA&gt;
## 6      感情 relationship      M       &lt;NA&gt;         &lt;NA&gt;                   &lt;NA&gt;
##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              mediaMeta
## 1                                                                                                                                                                                                                                                                                                                                                                                                                                                 d5e12314-ae52-4da6-b71e-f8fac079cde7, d5e12314-ae52-4da6-b71e-f8fac079cde7, 5f83bcae-f005-4dbf-b862-7591cb4929d6, 7084b3a6-ce06-4d1a-980a-86ba84376e0a, b94cd302-4c1f-4fc0-93ec-b63d77105d00, 1dfd20e5-ccc0-45e8-945f-810655619b02, f1bc2af8-bc23-4527-8221-a68d9e3b4848, https://i.imgur.com/OPDes1ml.jpg, http://i.imgur.com/OPDes1m.jpg, http://i.imgur.com/XCDhJ6e.png, http://i.imgur.com/bKejPOh.jpg, http://i.imgur.com/JrRu8b4.jpg, http://i.imgur.com/i5RdGvC.png, http://i.imgur.com/P8LgiYb.png, https://i.imgur.com/OPDes1ml.jpg, https://imgur.com/OPDes1m, https://imgur.com/XCDhJ6e, https://imgur.com/bKejPOh, https://imgur.com/JrRu8b4, https://imgur.com/i5RdGvC, https://imgur.com/P8LgiYb, https://i.imgur.com/OPDes1ml.jpg, https://i.imgur.com/OPDes1ml.jpg, https://i.imgur.com/XCDhJ6el.jpg, https://i.imgur.com/bKejPOhl.jpg, https://i.imgur.com/JrRu8b4l.jpg, https://i.imgur.com/i5RdGvCl.jpg, https://i.imgur.com/P8LgiYbl.jpg, image/thumbnail, image/imgur, image/imgur, image/imgur, image/imgur, image/imgur, image/imgur, ANNOTATED, ANNOTATED, ANNOTATED, ANNOTATED, ANNOTATED, ANNOTATED, ANNOTATED, 2020-02-03T10:21:25.830Z, 2020-02-03T10:21:25.830Z, 2020-02-03T11:54:01.577Z, 2020-02-03T10:21:25.830Z, 2020-02-03T10:21:25.830Z, 2020-02-03T10:21:25.830Z, 2020-02-03T10:21:25.830Z, 2020-02-13T15:19:06.798Z, 2020-02-13T15:19:06.798Z, 2020-02-13T15:19:06.798Z, 2020-02-13T15:19:06.798Z, 2020-02-13T15:19:06.798Z, 2020-02-13T15:19:06.798Z, 2020-02-13T15:19:06.798Z
## 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         10a37035-7b28-4c58-b1c6-83319e5b8203, 613ee91a-4618-48ad-bc9d-4370175320b7, 10a37035-7b28-4c58-b1c6-83319e5b8203, https://megapx-assets.dcard.tw/images/31d33e04-4926-4dd1-a743-55c9cfe872d7/640.jpeg, https://megapx-assets.dcard.tw/images/5fa1beb8-7edd-4836-aff4-089f5880be10/1280.jpeg, https://megapx-assets.dcard.tw/images/31d33e04-4926-4dd1-a743-55c9cfe872d7/1280.jpeg, https://megapx-assets.dcard.tw/images/31d33e04-4926-4dd1-a743-55c9cfe872d7/640.jpeg, https://megapx.dcard.tw/v1/images/5fa1beb8-7edd-4836-aff4-089f5880be10, https://megapx.dcard.tw/v1/images/31d33e04-4926-4dd1-a743-55c9cfe872d7, https://megapx-assets.dcard.tw/images/31d33e04-4926-4dd1-a743-55c9cfe872d7/640.jpeg, https://megapx-assets.dcard.tw/images/5fa1beb8-7edd-4836-aff4-089f5880be10/640.jpeg, https://megapx-assets.dcard.tw/images/31d33e04-4926-4dd1-a743-55c9cfe872d7/640.jpeg, image/thumbnail, image/megapx, image/megapx, ANNOTATED, GOOGLE_VISION_ADULT_VERY_LIKELY, SAFE, ANNOTATED, POSSIBLY_UNSAFE, GOOGLE_VISION_ADULT_LIKELY, ANNOTATED, GOOGLE_VISION_ADULT_VERY_LIKELY, SAFE, 2020-02-12T11:04:15.011Z, 2020-02-13T06:58:01.888Z, 2020-02-12T11:04:15.011Z, 2020-02-13T16:00:40.450Z, 2020-02-13T16:00:40.450Z, 2020-02-13T16:00:40.450Z, 452, 1414, 1414, 640, 2000, 2000
## 3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 NULL
## 4 8b5c28d7-d435-429f-b01f-73939ee229ba, 8b5c28d7-d435-429f-b01f-73939ee229ba, d0a4becd-24b4-4fa9-b562-fd3cef9cebb6, f60cbc44-2d7d-4aa4-8d00-bc2b513c71c2, 7b009eb2-fdc8-4309-9bb3-0a59458514ed, https://megapx-assets.dcard.tw/images/089887e6-dc3c-405b-8e47-972048748d65/640.jpeg, https://megapx-assets.dcard.tw/images/089887e6-dc3c-405b-8e47-972048748d65/1280.jpeg, https://megapx-assets.dcard.tw/images/bc599ba3-e605-4074-a208-55cbeaf3ded4/1280.jpeg, https://megapx-assets.dcard.tw/images/3699aaae-c7cd-43bf-bb3c-b5c853a405df/full.jpeg, https://megapx-assets.dcard.tw/images/b6386d6f-2e5f-414c-8be8-dfcc3b27d12d/1280.jpeg, https://megapx-assets.dcard.tw/images/089887e6-dc3c-405b-8e47-972048748d65/640.jpeg, https://megapx.dcard.tw/v1/images/089887e6-dc3c-405b-8e47-972048748d65, https://megapx.dcard.tw/v1/images/bc599ba3-e605-4074-a208-55cbeaf3ded4, https://megapx.dcard.tw/v1/images/3699aaae-c7cd-43bf-bb3c-b5c853a405df, https://megapx.dcard.tw/v1/images/b6386d6f-2e5f-414c-8be8-dfcc3b27d12d, https://megapx-assets.dcard.tw/images/089887e6-dc3c-405b-8e47-972048748d65/640.jpeg, https://megapx-assets.dcard.tw/images/089887e6-dc3c-405b-8e47-972048748d65/640.jpeg, https://megapx-assets.dcard.tw/images/bc599ba3-e605-4074-a208-55cbeaf3ded4/640.jpeg, https://megapx-assets.dcard.tw/images/3699aaae-c7cd-43bf-bb3c-b5c853a405df/320.jpeg, https://megapx-assets.dcard.tw/images/b6386d6f-2e5f-414c-8be8-dfcc3b27d12d/640.jpeg, image/thumbnail, image/megapx, image/megapx, image/megapx, image/megapx, ANNOTATED, ANNOTATED, ANNOTATED, GOOGLE_VISION_ADULT_LIKELY, SAFE, ANNOTATED, ANNOTATED, 2020-02-13T02:58:32.517Z, 2020-02-13T02:58:32.517Z, 2020-02-13T02:58:32.517Z, 2020-02-13T02:58:32.517Z, 2020-02-13T15:21:43.069Z, 2020-02-13T15:44:25.655Z, 2020-02-13T15:44:25.655Z, 2020-02-13T15:44:25.655Z, 2020-02-13T15:44:25.655Z, 2020-02-13T15:44:25.655Z, 360, 750, 1125, 479, 1122, 640, 1334, 2001, 470, 2000
## 5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 NULL
## 6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 NULL
##                                                                                                                                                                                                                                                   reactions
## 1 286f599c-f86a-4932-82f0-f5a06f1eca03, e8e6bc5d-41b0-4129-b134-97507523d7ff, aa0d425f-d530-4478-9a77-fe3aedc79eea, 514c2569-fd53-4d9d-a415-bf0f88e7329f, 4b018f48-e184-445f-adf1-fc8e04ba09b9, 011ead16-9b83-4729-9fde-c588920c6c2d, 2384, 51, 11, 7, 2, 1
## 2                                                                                  286f599c-f86a-4932-82f0-f5a06f1eca03, e8e6bc5d-41b0-4129-b134-97507523d7ff, 4b018f48-e184-445f-adf1-fc8e04ba09b9, aa0d425f-d530-4478-9a77-fe3aedc79eea, 8113, 428, 15, 3
## 3                                                                                   286f599c-f86a-4932-82f0-f5a06f1eca03, e8e6bc5d-41b0-4129-b134-97507523d7ff, 514c2569-fd53-4d9d-a415-bf0f88e7329f, 011ead16-9b83-4729-9fde-c588920c6c2d, 3577, 52, 33, 3
## 4                                                                                                                             286f599c-f86a-4932-82f0-f5a06f1eca03, e8e6bc5d-41b0-4129-b134-97507523d7ff, 4b018f48-e184-445f-adf1-fc8e04ba09b9, 3460, 47, 2
## 5                                          286f599c-f86a-4932-82f0-f5a06f1eca03, e8e6bc5d-41b0-4129-b134-97507523d7ff, 514c2569-fd53-4d9d-a415-bf0f88e7329f, 4b018f48-e184-445f-adf1-fc8e04ba09b9, aa0d425f-d530-4478-9a77-fe3aedc79eea, 2985, 254, 9, 1, 1
## 6                                                                                                                             286f599c-f86a-4932-82f0-f5a06f1eca03, 514c2569-fd53-4d9d-a415-bf0f88e7329f, 4b018f48-e184-445f-adf1-fc8e04ba09b9, 2956, 14, 1
##   hidden customStyle.label.text customStyle.label.bgColor
## 1  FALSE                   &lt;NA&gt;                      &lt;NA&gt;
## 2  FALSE                   &lt;NA&gt;                      &lt;NA&gt;
## 3  FALSE                   &lt;NA&gt;                      &lt;NA&gt;
## 4  FALSE                   &lt;NA&gt;                      &lt;NA&gt;
## 5  FALSE                   &lt;NA&gt;                      &lt;NA&gt;
## 6  FALSE                   &lt;NA&gt;                      &lt;NA&gt;
##   customStyle.headerColor customStyle.enableSupportCampaign isSuspiciousAccount
## 1                    &lt;NA&gt;                                NA               FALSE
## 2                    &lt;NA&gt;                                NA               FALSE
## 3                    &lt;NA&gt;                                NA               FALSE
## 4                    &lt;NA&gt;                                NA               FALSE
## 5                    &lt;NA&gt;                                NA               FALSE
## 6                    &lt;NA&gt;                                NA               FALSE
##    layout withImages withVideos
## 1 classic       TRUE      FALSE
## 2 classic       TRUE      FALSE
## 3 classic      FALSE      FALSE
## 4 classic       TRUE      FALSE
## 5 classic      FALSE      FALSE
## 6 classic      FALSE      FALSE
##                                                                                                                                                                                                                                                                                                                                                    media
## 1                                                                                                                                                         http://i.imgur.com/OPDes1m.jpg, http://i.imgur.com/XCDhJ6e.png, http://i.imgur.com/bKejPOh.jpg, http://i.imgur.com/JrRu8b4.jpg, http://i.imgur.com/i5RdGvC.png, http://i.imgur.com/P8LgiYb.png
## 2                                                                                                                                                                             https://megapx-assets.dcard.tw/images/5fa1beb8-7edd-4836-aff4-089f5880be10/1280.jpeg, https://megapx-assets.dcard.tw/images/31d33e04-4926-4dd1-a743-55c9cfe872d7/1280.jpeg
## 3                                                                                                                                                                                                                                                                                                                                                   NULL
## 4 https://megapx-assets.dcard.tw/images/089887e6-dc3c-405b-8e47-972048748d65/1280.jpeg, https://megapx-assets.dcard.tw/images/bc599ba3-e605-4074-a208-55cbeaf3ded4/1280.jpeg, https://megapx-assets.dcard.tw/images/3699aaae-c7cd-43bf-bb3c-b5c853a405df/full.jpeg, https://megapx-assets.dcard.tw/images/b6386d6f-2e5f-414c-8be8-dfcc3b27d12d/1280.jpeg
## 5                                                                                                                                                                                                                                                                                                                                                   NULL
## 6                                                                                                                                                                                                                                                                                                                                                   NULL
##   reportReasonText postAvatar
## 1                            
## 2                            
## 3                            
## 4                            
## 5                            
## 6</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="co"># View(res)</span></a></code></pre></div>
</div>
<div id="getting-taipei-theft-report-data" class="section level2">
<h2><span class="header-section-number">1.4</span> Getting Taipei theft report data</h2>
<div id="getting-from-the-web-directly" class="section level3">
<h3><span class="header-section-number">1.4.1</span> Getting from the web directly</h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">url &lt;-<span class="st"> &quot;http://data.taipei/opendata/datalist/datasetMeta/download?id=68785231-d6c5-47a1-b001-77eec70bec02&amp;rid=34a4a431-f04d-474a-8e72-8d3f586db3df&quot;</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2">df &lt;-<span class="st"> </span><span class="kw">read.csv</span>(url, <span class="dt">fileEncoding =</span> <span class="st">&quot;big5&quot;</span>)</a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="kw">head</span>(df)</a></code></pre></div>
<pre><code>##   編號     案類 發生.現.日期 發生時段
## 1    1 住宅竊盜      1040101    00~02
## 2    2 住宅竊盜      1040101    00~02
## 3    3 住宅竊盜      1040101    06~08
## 4    4 住宅竊盜      1040101    10~12
## 5    5 住宅竊盜      1040101    12~14
## 6    6 住宅竊盜      1040102    00~02
##                                  發生.現.地點
## 1              台北市文山區萬美里萬寧街1~30號
## 2 台北市信義區富台里忠孝東路5段295巷6弄1~30號
## 3             台北市中山區新生北路1段91~120號
## 4           台北市文山區明興里興隆路4段1~30號
## 5               台北縣新莊市思源路332巷1~30號
## 6   台北市士林區天福里1鄰忠誠路2段130巷1~30號</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">dplyr<span class="op">::</span><span class="kw">glimpse</span>(df)</a></code></pre></div>
<pre><code>## Observations: 3,053
## Variables: 5
## $ 編號         &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,…
## $ 案類         &lt;fct&gt; 住宅竊盜, 住宅竊盜, 住宅竊盜, 住宅竊盜, 住宅竊盜, 住宅竊盜, 住宅竊盜, 住宅竊盜, 住宅竊盜, 住宅竊盜…
## $ 發生.現.日期 &lt;int&gt; 1040101, 1040101, 1040101, 1040101, 1040101, 1040102, 1040102…
## $ 發生時段     &lt;fct&gt; 00~02, 00~02, 06~08, 10~12, 12~14, 00~02, 06~08, 06~08, 10~1…
## $ 發生.現.地點 &lt;fct&gt; 台北市文山區萬美里萬寧街1~30號, 台北市信義區富台里忠孝東路5段295巷6弄1~30號, 台北市中山區新生北路1段91…</code></pre>
</div>
<div id="loading-a-csv-file-in-data-directory" class="section level3">
<h3><span class="header-section-number">1.4.2</span> Loading a csv file in data directory</h3>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="co"># if mac cannot read data</span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="kw">GET</span>(url, <span class="kw">write_disk</span>(<span class="st">&quot;data/tptheft.csv&quot;</span>, <span class="dt">overwrite =</span> <span class="ot">TRUE</span>))</a></code></pre></div>
<pre><code>## Response [https://data.taipei/opendata/datalist/datasetMeta/download?id=68785231-d6c5-47a1-b001-77eec70bec02&amp;rid=34a4a431-f04d-474a-8e72-8d3f586db3df]
##   Date: 2020-02-13 16:41
##   Status: 200
##   Content-Type: text/html; charset=UTF-8
##   Size: 194 kB
## &lt;ON DISK&gt;  /Users/jirlong/Dropbox/Programming/R/PDR/data/tptheft.csv</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/tptheft.csv&quot;</span>, <span class="dt">fileEncoding =</span> <span class="st">&quot;big5&quot;</span>)</a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="kw">head</span>(df)</a></code></pre></div>
<pre><code>##   編號     案類 發生.現.日期 發生時段
## 1    1 住宅竊盜      1040101    00~02
## 2    2 住宅竊盜      1040101    00~02
## 3    3 住宅竊盜      1040101    06~08
## 4    4 住宅竊盜      1040101    10~12
## 5    5 住宅竊盜      1040101    12~14
## 6    6 住宅竊盜      1040102    00~02
##                                  發生.現.地點
## 1              台北市文山區萬美里萬寧街1~30號
## 2 台北市信義區富台里忠孝東路5段295巷6弄1~30號
## 3             台北市中山區新生北路1段91~120號
## 4           台北市文山區明興里興隆路4段1~30號
## 5               台北縣新莊市思源路332巷1~30號
## 6   台北市士林區天福里1鄰忠誠路2段130巷1~30號</code></pre>
</div>
</div>
<div id="loading-moi-data-through-api" class="section level2">
<h2><span class="header-section-number">1.5</span> Loading MOI data through API</h2>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">url &lt;-<span class="st"> &quot;https://www.ris.gov.tw/rs-opendata/api/v1/datastore/ODRP024/107?page=1&quot;</span></a>
<a class="sourceLine" id="cb22-2" data-line-number="2">first_page &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(<span class="kw">content</span>(<span class="kw">GET</span>(url), <span class="st">&quot;text&quot;</span>))</a>
<a class="sourceLine" id="cb22-3" data-line-number="3"><span class="kw">head</span>(first_page<span class="op">$</span>responseData)</a></code></pre></div>
<pre><code>##   statistic_yyy district_code      site_id village    edu sex
## 1           107   65000010001 新北市板橋區  留侯里   博畢  男
## 2           107   65000010001 新北市板橋區  留侯里   碩畢  男
## 3           107   65000010001 新北市板橋區  留侯里   大畢  男
## 4           107   65000010001 新北市板橋區  留侯里   專畢  男
## 5           107   65000010001 新北市板橋區  留侯里 高中畢  男
## 6           107   65000010001 新北市板橋區  留侯里 國中畢  男
##   headhousehold_count
## 1                   3
## 2                  26
## 3                  71
## 4                  52
## 5                 122
## 6                  40</code></pre>
</div>
<div id="getting-104-query-data" class="section level2">
<h2><span class="header-section-number">1.6</span> Getting 104 query data</h2>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1">url &lt;-<span class="st"> &quot;https://www.104.com.tw/jobs/search/list?ro=0&amp;kwop=7&amp;keyword=%E7%88%AC%E8%9F%B2&amp;order=1&amp;asc=0&amp;page=3&amp;mode=s&amp;jobsource=2018indexpoc&quot;</span></a>
<a class="sourceLine" id="cb24-2" data-line-number="2"></a>
<a class="sourceLine" id="cb24-3" data-line-number="3">res &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(<span class="kw">content</span>(<span class="kw">GET</span>(url), <span class="st">&quot;text&quot;</span>))</a>
<a class="sourceLine" id="cb24-4" data-line-number="4">df &lt;-<span class="st"> </span>res<span class="op">$</span>data<span class="op">$</span>list</a>
<a class="sourceLine" id="cb24-5" data-line-number="5"><span class="kw">head</span>(df)</a></code></pre></div>
<pre><code>##   jobType    jobNo                               jobName
## 1       0 11397872 【軟體/網路/APP工程師】柬埔寨金邊職缺
## 2       0  9161490                      Python程式設計師
## 3       0  8876423                  C# / .Net 軟體工程師
## 4       2 10964862                  07_資料分析師 (中和)
## 5       0  7468390                          IT系統工程師
## 6       0  9267466                      資料分析工程主管
##                          jobNameSnippet jobRole jobRo jobAddrNoDesc
## 1 【軟體/網路/APP工程師】柬埔寨金邊職缺       1     1        柬埔寨
## 2                      Python程式設計師       1     1  台中市南屯區
## 3                  C# / .Net 軟體工程師       1     1  台北市內湖區
## 4                  07_資料分析師 (中和)       1     1  新北市中和區
## 5                          IT系統工程師       1     1  台南市仁德區
## 6                      資料分析工程主管       1     1  台北市內湖區
##                        jobAddress
## 1                                
## 2 文心路一段521號7樓之1(鉅眾大樓)
## 3           堤頂大道二段179號10樓
## 4                                
## 5                     新田二街1號
## 6           內湖路一段360巷8號7樓
##                                                                                                                                                                                                                                                                                 description
## 1                                                       \r\nGolang開發工程師\r\nH5工程師\r\nCocos開發工程師\r\n廣告演算法工程師\r\n伺服器程式(高級/中級)\r\n用戶端程式(高級/中級)\r\n[[[爬蟲]]]開發工程師\r\n運維工程師(基礎)\r\n運維工程師(業務/中級)\r\n運維工程師(開發/高級)\r\n\r\n\r\n
## 2                                                                                     職責要求： \r\n1. [[[爬蟲]]]及程式維護。\r\n2. Python程式開發及維護。\r\n3. 系統技術研究與專案推動上線。\r\n4. 需輪值班。   \r\n\r\n任職資格： \r\n1. 熟悉 Flask/tornado等 Python API中的一個或多個。
## 3                                                                          本團隊以C#及Vue.js 等技術進行開發[[[爬蟲]]]程式，\r\n工作項目，重點如下，其他細節，歡迎各位朋友來談談：\r\n1. 使用HangFire為基礎來開發及維護[[[爬蟲]]]程式。\r\n2. 網站開發：\r\n(1)  Server 端,使用Asp.net Core
## 4 1.消費者行為資料探勘、資料前處理及建立預測模型，提出分析報告並以簡單精要的方式呈現相關發現及後續做法，創造管理層的數據化決策價值。\n2.跨部門團隊合作大數據資料分析專案，針對發現之問題點提出建議改善，並有效率地掌控專案走向。\n3.熟悉Python或使用R語言做資料分析。\n4.其他主管交辦事項。
## 5                                                                                                                      開發新一代ERP系統\r\n1.後台商業邏輯Web API設計與實作(ASP.NET Core)\r\n2.前台網頁製作 (Angular)\r\n上述兩點依照個人能力可以只負責單一項目，可同時負責前後台者尤佳\r\n
## 6                                                            我們是來自網路圈與IC設計公司的新創公司\r\n透過 Ruby on Rails 開發新一代 E-commerce 系統與物聯智慧服務\r\n\r\n主要的工作內容為：\r\n1. 管理及規劃工作排程\r\n2. 整合目前的功能及發想新的服務\r\n3. 查詢/統計/分析，所獲取的資料
##   optionEdu period periodDesc applyCnt   applyDesc          custNo
## 1      專科     03    2年以上    00001   0~5人應徵 130000000139287
## 2      專科     00   經歷不拘    00011 11~30人應徵 130000000079214
## 3      專科     02    1年以上    00007  6~10人應徵 130000000085985
## 4      大學     03    2年以上    00021 11~30人應徵     70769567000
## 5      大學     00   經歷不拘    00003   0~5人應徵     22798584000
## 6      大學     04    3年以上    00002   0~5人應徵 130000000046441
##                         custName coIndustry       coIndustryDesc salaryLow
## 1 Morning Air Technology PTE.LTD 1001001006 其它軟體及網路相關業   0000000
## 2               雋上科技有限公司 1001001002       電腦軟體服務業   0030000
## 3           辰城科技股份有限公司 1001001003       網際網路相關業   0000000
## 4       台灣之星電信股份有限公司 1001002001           電信相關業   0000000
## 5           恒耀工業股份有限公司 1002011010   其他金屬相關製造業   0000000
## 6           順立智慧股份有限公司 1001001006 其它軟體及網路相關業   0000000
##   salaryHigh          salaryDesc s10 appearDate appearDateDesc optionZone
## 1    0000000            待遇面議  10   20200113           1/13       8192
## 2    0060000 月薪30,000~60,000元  50   20200120           1/20          0
## 3    0000000            待遇面議  10   20200207           2/07          0
## 4    0000000            待遇面議  10   20200205           2/05    6295680
## 5    0000000            待遇面議  10   20200213           2/13     262144
## 6    0000000            待遇面議  10   20200205           2/05          0
##   isApply applyDate isSave
## 1       0                0
## 2       0                0
## 3       0                0
## 4       0                0
## 5       0                0
## 6       0                0
##                                                                                                                                                                                                                                                                                 descSnippet
## 1                           \r\nGolang開發工程師\r\nH5工程師\r\nCocos開發工程師\r\n廣告演算法工程師\r\n伺服器程式(高級/中級)\r\n用戶端程式(高級/中級)\r\n&lt;em class=&#39;b-txt--highlight&#39;&gt;爬蟲&lt;/em&gt;開發工程師\r\n運維工程師(基礎)\r\n運維工程師(業務/中級)\r\n運維工程師(開發/高級)\r\n\r\n\r\n
## 2                                                         職責要求： \r\n1. &lt;em class=&#39;b-txt--highlight&#39;&gt;爬蟲&lt;/em&gt;及程式維護。\r\n2. Python程式開發及維護。\r\n3. 系統技術研究與專案推動上線。\r\n4. 需輪值班。   \r\n\r\n任職資格： \r\n1. 熟悉 Flask/tornado等 Python API中的一個或多個。
## 3                  本團隊以C#及Vue.js 等技術進行開發&lt;em class=&#39;b-txt--highlight&#39;&gt;爬蟲&lt;/em&gt;程式，\r\n工作項目，重點如下，其他細節，歡迎各位朋友來談談：\r\n1. 使用HangFire為基礎來開發及維護&lt;em class=&#39;b-txt--highlight&#39;&gt;爬蟲&lt;/em&gt;程式。\r\n2. 網站開發：\r\n(1)  Server 端,使用Asp.net Core
## 4 1.消費者行為資料探勘、資料前處理及建立預測模型，提出分析報告並以簡單精要的方式呈現相關發現及後續做法，創造管理層的數據化決策價值。\n2.跨部門團隊合作大數據資料分析專案，針對發現之問題點提出建議改善，並有效率地掌控專案走向。\n3.熟悉Python或使用R語言做資料分析。\n4.其他主管交辦事項。
## 5                                                                                                                      開發新一代ERP系統\r\n1.後台商業邏輯Web API設計與實作(ASP.NET Core)\r\n2.前台網頁製作 (Angular)\r\n上述兩點依照個人能力可以只負責單一項目，可同時負責前後台者尤佳\r\n
## 6                                                            我們是來自網路圈與IC設計公司的新創公司\r\n透過 Ruby on Rails 開發新一代 E-commerce 系統與物聯智慧服務\r\n\r\n主要的工作內容為：\r\n1. 管理及規劃工作排程\r\n2. 整合目前的功能及發想新的服務\r\n3. 查詢/統計/分析，所獲取的資料
##         tags
## 1  員工600人
## 2           
## 3  員工135人
## 4           
## 5 員工1000人
## 6   員工70人
##                                                                                                                                               link.applyAnalyze
## 1 //www.104.com.tw/jobs/apply/analysis?j=6a784a744074512b5e60422940463e67540424a733c3e466f444a42252525252314e42607503j97&amp;channel=104rpt&amp;jobsource=apply_analyze
## 2 //www.104.com.tw/jobs/apply/analysis?j=3c60436c5e6c492034583a214e2e365f2383a426b34363e673c423a1d1d1d1d186464a363189j99&amp;channel=104rpt&amp;jobsource=apply_analyze
## 3 //www.104.com.tw/jobs/apply/analysis?j=57774a2f617350285d49432459353d6643f4149723b3d456e434941242424241f24b67493816j55&amp;channel=104rpt&amp;jobsource=apply_analyze
## 4         //www.104.com.tw/jobs/apply/analysis?j=50684b313c4e465e393a426b565c3f2196a684b2f3c74472929292928415c3a2d008j48&amp;channel=104rpt&amp;jobsource=apply_analyze
## 5         //www.104.com.tw/jobs/apply/analysis?j=443a4426446c3f5631323a633c2e381975e4a44273c5c3e2121212121382b2625381j52&amp;channel=104rpt&amp;jobsource=apply_analyze
## 6 //www.104.com.tw/jobs/apply/analysis?j=5e64477162704d6c44363f2240323a6313c3e466f383a426b40463e212121211c94964523543j01&amp;channel=104rpt&amp;jobsource=apply_analyze
##                                                  link.job
## 1 //www.104.com.tw/job/6sank?jobsource=jolist_a_relevance
## 2 //www.104.com.tw/job/5gd1u?jobsource=jolist_a_relevance
## 3 //www.104.com.tw/job/5a93b?jobsource=jolist_a_relevance
## 4 //www.104.com.tw/job/6j0ji?jobsource=jolist_a_relevance
## 5 //www.104.com.tw/job/4g2na?jobsource=jolist_a_relevance
## 6 //www.104.com.tw/job/5imtm?jobsource=jolist_a_relevance
##                                                          link.cust
## 1 //www.104.com.tw/company/1a2x6bkys7?jobsource=jolist_a_relevance
## 2 //www.104.com.tw/company/1a2x6bjofi?jobsource=jolist_a_relevance
## 3 //www.104.com.tw/company/1a2x6bjtnl?jobsource=jolist_a_relevance
## 4    //www.104.com.tw/company/wiedfdk?jobsource=jolist_a_relevance
## 5    //www.104.com.tw/company/ah1os00?jobsource=jolist_a_relevance
## 6 //www.104.com.tw/company/1a2x6biz55?jobsource=jolist_a_relevance
##            jobsource                            jobNameRaw
## 1 jolist_a_relevance 【軟體/網路/APP工程師】柬埔寨金邊職缺
## 2 jolist_a_relevance                      Python程式設計師
## 3 jolist_a_relevance                  C# / .Net 軟體工程師
## 4 jolist_a_relevance                  07_資料分析師 (中和)
## 5 jolist_a_relevance                          IT系統工程師
## 6 jolist_a_relevance                      資料分析工程主管
##                      custNameRaw
## 1 Morning Air Technology PTE.LTD
## 2               雋上科技有限公司
## 3           辰城科技股份有限公司
## 4       台灣之星電信股份有限公司
## 5           恒耀工業股份有限公司
## 6           順立智慧股份有限公司</code></pre>
</div>
<div id="getting-ubike" class="section level2">
<h2><span class="header-section-number">1.7</span> Getting ubike</h2>
<ul>
<li><a href="https://taipeicity.github.io/traffic_realtime/" class="uri">https://taipeicity.github.io/traffic_realtime/</a></li>
</ul>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1">url &lt;-<span class="st"> &quot;https://tcgbusfs.blob.core.windows.net/blobyoubike/YouBikeTP.json&quot;</span></a>
<a class="sourceLine" id="cb26-2" data-line-number="2">ubike.list &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(<span class="kw">content</span>(<span class="kw">GET</span>(url),<span class="st">&quot;text&quot;</span>, <span class="dt">encoding =</span> <span class="st">&quot;utf-8&quot;</span>))</a>
<a class="sourceLine" id="cb26-3" data-line-number="3">ubike.v &lt;-<span class="st"> </span><span class="kw">unlist</span>(ubike.list<span class="op">$</span>retVal)</a>
<a class="sourceLine" id="cb26-4" data-line-number="4">ubike.m &lt;-<span class="st"> </span><span class="kw">matrix</span>(ubike.v, <span class="dt">byrow =</span> T, <span class="dt">ncol =</span> <span class="dv">14</span>)</a>
<a class="sourceLine" id="cb26-5" data-line-number="5">ubike.df &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(ubike.m)</a>
<a class="sourceLine" id="cb26-6" data-line-number="6"><span class="kw">names</span>(ubike.df) &lt;-<span class="st"> </span><span class="kw">names</span>(ubike.list<span class="op">$</span>retVal<span class="op">$</span><span class="st">`</span><span class="dt">0001</span><span class="st">`</span>)</a>
<a class="sourceLine" id="cb26-7" data-line-number="7"><span class="kw">head</span>(ubike.df)</a></code></pre></div>
<pre><code>##    sno                       sna tot sbi  sarea           mday           lat
## 1 0001     捷運市政府站(3號出口) 180  24 信義區 20200214003933 25.0408578889
## 2 0002 捷運國父紀念館站(2號出口)  48  24 大安區 20200214003921     25.041254
## 3 0003                台北市政府  40  21 信義區 20200214003930 25.0377972222
## 4 0004                  市民廣場  60  37 信義區 20200214003935 25.0360361111
## 5 0005                  興雅國中  60  20 信義區 20200214003916 25.0365638889
## 6 0006              臺北南山廣場  80   9 信義區 20200214003935     25.034047
##             lng                                                             ar
## 1 121.567904444                                        忠孝東路/松仁路(東南側)
## 2     121.55742                                忠孝東路四段/光復南路口(西南側)
## 3 121.565169444               台北市政府東門(松智路) (鄰近信義商圈/台北探索館)
## 4    121.562325 市府路/松壽路(西北側)(鄰近台北101/台北世界貿易中心/台北探索館)
## 5   121.5686639       松仁路/松仁路95巷(東南側)(鄰近信義商圈/台北信義威秀影城)
## 6    121.565973  松智路/松廉路(東北側) (鄰近台北101/信義商圈/台北信義威秀影城)
##       sareaen                                     snaen
## 1 Xinyi Dist.   MRT Taipei City Hall Stataion(Exit 3)-2
## 2  Daan Dist. MRT S.Y.S Memorial Hall Stataion(Exit 2.)
## 3 Xinyi Dist.                          Taipei City Hall
## 4 Xinyi Dist.                            Citizen Square
## 5 Xinyi Dist.                    Xingya Jr. High School
## 6 Xinyi Dist.                            NAN SHAN PLAZA
##                                                          aren bemp act
## 1 The S.W. side of Road Zhongxiao East Road &amp; Road Chung Yan.  152   1
## 2                         Sec,4. Zhongxiao E.Rd/GuangFu S. Rd   24   1
## 3             Taipei City Government Eastgate (Song Zhi Road)   19   1
## 4               The N.W. side of Road Shifu &amp; Road Song Shou.   21   1
## 5        The S.E. side of Road Songren &amp; Ln. 95, Songren Rd..   40   1
## 6            The N.E. side of Road Song Zhi &amp; Road Song Lian.   70   1</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/01_basic//R01_0_preface.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["PDR.pdf", "PDR.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
